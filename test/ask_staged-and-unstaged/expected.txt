# Git Commit - Interactive Mode

Help the user decide what to stage and commit.

Branch: `main`
Identity: `Test User <test@example.com>`

# Recent Commits
```
HASH Initial commit
```

# Currently Staged
```
staged.txt
```

# Unstaged Modifications
```
file.txt
```

# Untracked Files
```
(none)
```

# Full Status
```
 M file.txt
A  staged.txt
```

# Instructions

1. **Show the user what's available to commit** (relay the staged/unstaged/untracked sections above - they can't see slash command output)
2. **Ask the user** what should be included in this commit:
   - Suggest logical groupings if changes seem separable
   - If user gave additional instructions, use those as guidance
   - Offer options like "all of it", "just the staged", or specific files
3. Stage the selected changes (`git add <files>`)
4. Generate a commit message (imperative summary, optional bullets)
5. Present a **Commit Review** to the user in this exact format:

```
# Commit Review

## Paths
M  path/to/modified
A  path/to/added
D  path/to/deleted
R  {old/path -> new/path}

## Proposed Commit Message
<summary line>
[- bullet if needed]
[- bullet if needed]

Proceed? ([y]es / [n]o)
```

Wait for user confirmation before committing.
6. If confirmed: commit using HEREDOC format
7. Show resulting commit hash

# Safety Checks

Stop and warn if selected files include:
- Secrets (`.env`, credentials, API keys, certs)
- Large binaries that look accidental
